---+!! %TOPIC%
%SHORTDESCRIPTION%

%TOC%

---++ Usage

---++ Syntax

---+++ ATTACHMENTS
List all attachments of a given topic. Without any parameters it displays a
table of attachments similar to the one generated by the templates at the bottom
of a topic. There are a couple of parameters that take regular expressions to
limit the number of attachments to be listed.

*Syntax:*
| *%<nop>ATTACHMENTS%, %<nop>ATTACHMENTS{"&lt;topic>" ...}* ||
| ="&lt;topic>"= | topic whos attachments we want to query | 
| =attr="..."= | match the attachments' attribute |
| =autoattached="yes,no,undef"= | limit attachments to those that are (not) autoattached |
| =comment="..."= | match the attachments' comment |
| =maxdate="..."= | specify latest attachment |
| =maxsize="..."= | specify biggest attachment |
| =mindate="..."= | specify earliest attachment |
| =minsize="..."= | specify smallest attachment |
| =names="..."= | match the name of attachments to be include in the list |
| =user="..."= | match the attachments' user who uploaded it |
| =footer="..."= | format string appended to the result |
| =format="..."= | how to format each attachment |
| =header="..."= | format string prefixing the resulting output |
| =separator="..."= | format string put between each formatted attachment  |
| =hidenull="on,off"= | hide/display the empty result; only the header and the footer are included \
                if set to "off" and there's no attachment at the given topic |
| =sort="name,date,size,user,comment,comment:name"= | sort results by specified field |
| =reverse="on/off"= | enable reverse sorting |
| =limit="..."= | limit the number of attachments to the given number; by default show all |

The following variables can be used in the format parameter:
   * $attr: the attributes
   * $autoattached: the autoattach flag
   * $comment: the comment field
   * $date(&lt;format>): the attachment date using &lt;format> to format the date
   * $date: the attachment date
   * $delete: the action to delete the current attachment
   * $deleteUrl: the url used in the delete action
   * $icon: img tag representing the filetype
   * $iconUrl: the url pointing to the icon used in the img tag
   * $index: the position index of the attachment in the result
   * $move: the action to move the current attachment
   * $moveUrl: the url used in the move action
   * $name: the name of the attachment
   * $path: the path property of the attachment
   * $props: the action to change the properties of the current attachment
   * $propsUrl: the url used in the props action
   * $size: the size in bytes 
   * $sizeK: the size in kilo bytes 
   * $sizeM: the size in mega bytes 
   * $topic: the name of the topic of whose attachments are listed
   * $type: the file type of the current attachment
   * $url: the attachments url
   * $urlpath: the attachments urlpath
   * $user: the user that uploaded the attachment
   * $web: the web name of the current topic
   * $webdav: the action to edit the current attachment using the Foswiki:Extensions/WebDavPlugin
   * $webdavUrl: the url used in the webdav action
   * $wikiuser: the user's home topic that recently changed the current attachment

The header and footer format strings may only contain
   * $count: the number of attachments found

The format, header and footer may contain the standard escape sequences:
   * $dollar: $ sign
   * $n: newline
   * $percnt: % sign
   * $quot: " sign
Example:
<verbatim>%ATTACHMENTS{format="| $name: | $type |"}%</verbatim>
generates:
%ATTACHMENTS{format="| $name: | $type |"}%

---++ Installation Instructions

%$INSTALL_INSTRUCTIONS%

---++ Info
<!--
   * Set SHORTDESCRIPTION = %$SHORTDESCRIPTION%
-->

|  Author(s): | Michael Daum|
|  Copyright: | &copy; 2010 Michael Daum http://michaeldaumconsulting.com |
|  License: | [[http://www.gnu.org/licenses/gpl.html][GPL (Gnu General Public License)]] |
|  Release: | %$RELEASE% |
|  Version: | %$VERSION% |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  Dependencies: | %$DEPENDENCIES% |
|  Home page: | Foswiki:Extensions/%TOPIC% |
|  Support: | Foswiki:Support/%TOPIC% |
